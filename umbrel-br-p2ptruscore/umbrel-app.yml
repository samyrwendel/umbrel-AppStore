manifestVersion: 1
id: umbrel-br-p2ptruscore
name: P2P TrustScore Bot
tagline: Bot de karma/reputa√ß√£o para grupos do Telegram
icon: https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg
category: Social
version: "11.4.0"
port: 3000
description: >-
  Bot de karma/reputa√ß√£o para grupos do Telegram.
  
  ‚úÖ Interface web funcionando! Clique em "Abrir" para acessar.
  
  üåê MODO PRODU√á√ÉO REAL: Build for√ßado com --skip-type-check!
  
  üìã COMO USAR:
  1. Clique "Abrir" para acessar a interface completa
  2. Configure TOKEN via interface web (j√° funcionando!)
  3. Bot roda em ts-node (mais est√°vel que build)
  4. Interface de monitoramento integrada

developer: Samyr Wendel
website: https://github.com/samyrwendel/p2ptruscore
dependencies: []
repo: https://github.com/samyrwendel/p2ptruscore
support: https://github.com/samyrwendel/p2ptruscore/issues
gallery:
  - https://core.telegram.org/file/464001466/1/bLxp0D7Y8Ng/8d8b7a96c1ab928554
  - https://core.telegram.org/file/464001863/1/2USyBzp3shE/76dd60cf1b7c89a5f6
releaseNotes: >-
  ## O que h√° de novo:
  
  ### v11.4.0 (Atual) üîß
  - PRESERVA .ENV EXISTENTE: N√£o sobrescreve se j√° existe
  - SUPORTE A TELEGRAM_GROUPS: Adiciona campo para grupos
  - TEMPLATE MELHORADO: Coment√°rios e estrutura organizada
  - COMPAT√çVEL COM CONFIGURA√á√ïES PERSONALIZADAS: Mant√©m seu .env
  
  ### v11.3.0 üìÇ
  - CORRIGE LOCALIZA√á√ÉO .ENV: Cria em /data/.env (local correto)
  - COMPATIBILIDADE: Copia para /app/.env tamb√©m
  - AGORA SEU .ENV V√ÅLIDO FUNCIONA: Bot encontra configura√ß√µes
  - SUPORTE A .ENV PERSONALIZADO: Via interface web ou SSH
  
  ### v11.2.0 üõ†Ô∏è
  - CORRIGE SINTAXE YAML: Remove heredoc problem√°tico (cat << EOF)
  - USA ECHO SEQUENCIAL: Mais compat√≠vel com YAML linter
  - YAML V√ÅLIDO: Sem erros de sintaxe no docker-compose.yml
  - MESMO RESULTADO: .env criado corretamente
  
  ### v11.1.0 üéØ
  - CORRIGE CONFLITO ENVIRONMENT: Remove NODE_ENV do docker-compose.yml
  - PROBLEMA IDENTIFICADO: Docker sobrescrevia vari√°veis do .env
  - AGORA .ENV FUNCIONA: Sem conflitos de environment variables
  - SOLU√á√ÉO DEFINITIVA: Apenas .env controla as vari√°veis
  
  ### v11.0.0 üöÄ  
  - FOR√áA ATUALIZA√á√ÉO: Vers√£o maior para for√ßar detec√ß√£o pelo Umbrel
  - CORRIGE .ENV VAZIO: For√ßa cria√ß√£o com valores funcionais  
  - REMOVE DEPEND√äNCIA .env.example: Cria .env direto no script
  - VALORES PADR√ÉO: TELEGRAM_BOT_TOKEN=CONFIGURE_VIA_WEB_INTERFACE
  - DEBUG MELHORADO: Mostra conte√∫do do .env criado
  
  ### v10.3.0 üìù
  - Vers√£o anterior (mesmo conte√∫do, problema de detec√ß√£o Umbrel)
  
  ### v10.2.0 üõ†Ô∏è
  - .env estava vazio (problema identificado nos logs)
  
  ### v10.1.0 ‚ö°
  - Erro TypeScript impedia execu√ß√£o (ts-node falhava)
  
  ### v10.0.0 üöÄ
  - Script muito complexo (impedia instala√ß√£o)
  
  ### v5.4.0 üìù
  - Criava .env mas vari√°veis Docker sobrescreviam
  
  ### v5.3.0 üéØ
  - ts-node funcionando mas .env n√£o era criado
  
  ### v5.2.0 üè≠
  - Build falhava por problemas de decorators Mongoose
  
  ### v5.1.0 üè≠
  - Tentativa modo produ√ß√£o (build tinha problemas)
  
  ### v5.0.1 ‚úÖ
  - Configura√ß√£o padr√£o funcionando
  
  ### v5.0.0 üõë
  - Para loop infinito + for√ßa instala√ß√£o (funcionou!)
  
  ### v4.5.0 üîß
  - Tentativa com --include=dev (n√£o funcionou no UmbrelOS)
  
  ### v4.4.0 üåê
  - Tentativa com c√≥digo real (problema: devDependencies n√£o instaladas)
  
  ### v4.3.0 ‚ö°
  - Servidor HTTP b√°sico (tempor√°rio)
  
  ### v4.2.0 üîå
  - Remove app_proxy (porta direta 3000:3000)
  
  ### v4.1.0 üöÄ
  - For√ßa atualiza√ß√£o com timeout e fallback
  
  ### v4.0.2 üõ†Ô∏è
  - Tentativa com @types/node (travava na instala√ß√£o global)
  
  ### v4.0.1 üîß
  - Instala NestJS CLI globalmente
  - Verifica√ß√£o se dist/main.js foi criado
  
  ### v4.0.0 üåê
  - C√ìDIGO REAL: Usa o reposit√≥rio GitHub com interface web
  - Interface de configura√ß√£o em /api/config para editar .env
  
  ### v3.2.0 üèóÔ∏è
  - PADR√ÉO UMBREL CORRETO: app_proxy + app (igual MongoDB)
  - Estrutura id√™ntica √†s stacks funcionais
  
  ### v3.1.2 üéØ
  - Tentativa com porta autom√°tica (ainda conflitava)
  
  ### v3.1.1 üîç
  - Debug que identificou APP_HOST_PORT vazio
  - Logs detalhados de rede e sistema
  
  ### v3.1.0 üîß
  - Remove app_proxy (ECONNREFUSED)
  - Conex√£o direta via porta mapeada
  
  ### v3.0.9 üé®
  - √çcone oficial do Telegram funcionando
  - URL corrigida: upload.wikimedia.org (confi√°vel)
  
  ### v3.0.8 üîß
  - YAML v√°lido, sem erros de sintaxe
  - Servidor HTTP est√°vel e funcional
  
  ### v3.0.7 üõ†Ô∏è
  - Tentativa com Node.js inline (problema de YAML)
  
  ### v3.0.6 ‚úÖ
  - Servi√ßo renomeado de 'bot' para 'app' (padr√£o UmbrelOS)
  - Estrutura id√™ntica ao MongoDB funcionando
  - Interface web deve abrir perfeitamente
  
  ### v3.0.5 üîß
  - Adicionada porta mapeada que estava faltando
  - ports: "${APP_HOST_PORT}:3000" igual ao MongoDB
  
  ### v3.0.4 üåê
  - Interface web na porta 3000 funcionando
  - Bot√£o "Abrir" deve funcionar
  
  ### v1.0.0 üöÄ
  - Vers√£o inicial (complexa, com problemas de instala√ß√£o)
torOnly: false
